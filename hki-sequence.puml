@startuml Overview Sistem HKI
!theme plain
title Diagram Urutan - Gambaran Lengkap Sistem HKI

actor Mahasiswa as "Mahasiswa"
actor Dosen as "Dosen"
actor Direktur as "Direktur"
actor Admin as "Admin"
participant Sistem as "Sistem HKI"

== FASE 1: PENGAJUAN ==

alt Pengajuan Mahasiswa
    Mahasiswa -> Sistem: 1. Kirim Pengajuan HKI (Mahasiswa)
    Sistem -> Direktur: 2. Notifikasi Pengajuan Baru dari Mahasiswa
else Pengajuan Dosen
    Dosen -> Sistem: 1. Kirim Pengajuan HKI (Dosen)
    Sistem -> Direktur: 2. Notifikasi Pengajuan Baru dari Dosen
end

== FASE 2: VALIDASI DIREKTUR ==

Direktur -> Sistem: 3. Tinjau Pengajuan
alt Disetujui
    Direktur -> Sistem: 4. Setujui & Tanda Tangan Digital
    Sistem -> Admin: 5. Notifikasi untuk Finalisasi
else Ditolak
    Direktur -> Sistem: 4. Tolak dengan Catatan
    alt Penolakan Mahasiswa
        Sistem -> Mahasiswa: 5. Notifikasi Penolakan
    else Penolakan Dosen
        Sistem -> Dosen: 5. Notifikasi Penolakan
    end
    note over Mahasiswa, Dosen: Proses berakhir - Status: ditolak
end

== FASE 3: FINALISASI ADMIN ==

Admin -> Sistem: 6. Finalisasi Validasi
alt Notifikasi ke Mahasiswa
    Sistem -> Mahasiswa: 7. Notifikasi Siap Pembayaran
else Notifikasi ke Dosen
    Sistem -> Dosen: 7. Notifikasi Siap Pembayaran
end

== FASE 4: PEMBAYARAN ==

Admin -> Sistem: 8. Atur Kode Billing

alt Pembayaran Mahasiswa
    Mahasiswa -> Sistem: 9. Lakukan Pembayaran & Unggah Bukti
    Sistem -> Admin: 10. Notifikasi Verifikasi Pembayaran
    Admin -> Sistem: 11. Konfirmasi Pembayaran
    Sistem -> Mahasiswa: 12. Konfirmasi Pembayaran Diterima
else Pembayaran Dosen
    Dosen -> Sistem: 9. Lakukan Pembayaran & Unggah Bukti
    Sistem -> Admin: 10. Notifikasi Verifikasi Pembayaran
    Admin -> Sistem: 11. Konfirmasi Pembayaran
    Sistem -> Dosen: 12. Konfirmasi Pembayaran Diterima
end

== FASE 5: PENERBITAN SERTIFIKAT ==

Admin -> Sistem: 13. Unggah Sertifikat HKI

alt Sertifikat untuk Mahasiswa
    Sistem -> Mahasiswa: 14. Notifikasi Sertifikat Tersedia
    Mahasiswa -> Sistem: 15. Unduh Sertifikat
else Sertifikat untuk Dosen
    Sistem -> Dosen: 14. Notifikasi Sertifikat Tersedia
    Dosen -> Sistem: 15. Unduh Sertifikat
end

note over Mahasiswa, Sistem: âœ… Proses HKI Selesai\nStatus: selesai

@enduml